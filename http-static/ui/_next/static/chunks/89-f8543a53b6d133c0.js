"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{868:function(e,t,n){n.d(t,{O:function(){return k}});var a=n(3900),r=n(1949),s=n(2338),o=n(9025),l=n(5728),i=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&__defNormalProp(e,n,t[n]);if(c)for(var n of c(t))x.call(t,n)&&__defNormalProp(e,n,t[n]);return e},__spreadProps=(e,t)=>u(e,d(t));let m=(0,s.F4)({"from, to":{opacity:.4},"50%":{opacity:1}});var h=(0,o.k)((e,{height:t,width:n,radius:a,circle:r,animate:s})=>({root:{height:(0,l.h)(t),width:r?(0,l.h)(t):(0,l.h)(n),borderRadius:r?(0,l.h)(t):e.fn.radius(a),position:"relative",WebkitTransform:"translateZ(0)"},visible:{overflow:"hidden","&::before":__spreadProps(__spreadValues({},e.fn.cover(0)),{content:'""',background:"dark"===e.colorScheme?e.colors.dark[7]:e.white,zIndex:10}),"&::after":__spreadProps(__spreadValues({},e.fn.cover(0)),{content:'""',background:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3],animation:s?`${m} 1500ms linear infinite`:"none",zIndex:11})}})),g=n(3127),v=Object.defineProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,Skeleton_defNormalProp=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Skeleton_spreadValues=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&Skeleton_defNormalProp(e,n,t[n]);if(f)for(var n of f(t))y.call(t,n)&&Skeleton_defNormalProp(e,n,t[n]);return e},__objRest=(e,t)=>{var n={};for(var a in e)b.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&f)for(var a of f(e))0>t.indexOf(a)&&y.call(e,a)&&(n[a]=e[a]);return n};let j={height:"auto",width:"100%",visible:!0,animate:!0},k=(0,a.forwardRef)((e,t)=>{let n=(0,r.N4)("Skeleton",j,e),{height:s,width:o,visible:l,animate:i,className:u,circle:d,radius:c,unstyled:p,variant:x}=n,m=__objRest(n,["height","width","visible","animate","className","circle","radius","unstyled","variant"]),{classes:v,cx:f}=h({height:s,width:o,circle:d,radius:c,animate:i},{name:"Skeleton",unstyled:p,variant:x});return a.createElement(g.x,Skeleton_spreadValues({className:f(v.root,{[v.visible]:l},u),ref:t},m))});k.displayName="@mantine/core/Skeleton"},3600:function(e,t,n){n.d(t,{Z:function(){return a}});var a=(0,n(4397).Z)("plug-connected","IconPlugConnected",[["path",{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z",key:"svg-0"}],["path",{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z",key:"svg-1"}],["path",{d:"M3 21l2.5 -2.5",key:"svg-2"}],["path",{d:"M18.5 5.5l2.5 -2.5",key:"svg-3"}],["path",{d:"M10 11l-2 2",key:"svg-4"}],["path",{d:"M13 14l-2 2",key:"svg-5"}]])},4621:function(e,t,n){n.d(t,{Z:function(){return a}});var a=(0,n(4397).Z)("plug-connected-x","IconPlugConnectedX",[["path",{d:"M20 16l-4 4",key:"svg-0"}],["path",{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z",key:"svg-1"}],["path",{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z",key:"svg-2"}],["path",{d:"M3 21l2.5 -2.5",key:"svg-3"}],["path",{d:"M18.5 5.5l2.5 -2.5",key:"svg-4"}],["path",{d:"M10 11l-2 2",key:"svg-5"}],["path",{d:"M13 14l-2 2",key:"svg-6"}],["path",{d:"M16 16l4 4",key:"svg-7"}]])},2484:function(e,t,n){n.d(t,{Z:function(){return a}});var a=(0,n(4397).Z)("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]])},7816:function(e,t,n){n.d(t,{Z:function(){return a}});var a=(0,n(4397).Z)("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]])},4045:function(e,t,n){n.d(t,{Z:function(){return HexNumberInput}});var a=n(966),r=n(8393);function HexNumberInput(e){let{hex:t,...n}={...e};return t?(0,a.jsx)(InternalHexNumberInput,{...n}):(0,a.jsx)(r.Y,{...n})}function InternalHexNumberInput(e){return(0,a.jsx)(r.Y,{...e,formatter:e=>{let t=parseInt(e,10);return Number.isNaN(t)?"0x":"0x".concat(t.toString(16).toUpperCase())},parser:e=>e?parseInt(e.replace("0x",""),16).toString():""})}},1921:function(e,t,n){n.d(t,{Z:function(){return ModbusDebugTools}});var a=n(966),r=n(3127),s=n(5782),o=n(462),l=n(7344),i=n(9956),u=n(8482),d=n(2701),c=n(3283),p=n(3063),x=n(7673),m=n(3900),h=n(52),g=n(9342),v=n(8431),f=n(7452),b=n(6078),y=n(5041),j=n(6886),k=n(9724),C=n(9561),P=n(4045);function ModbusRequestGenerator(e){let{mode:t,onSubmit:n}=e,r=(0,k.c)({initialValues:{useHex:!0,deviceId:1,funcCode:"3",funcCodeCustom:1,address:0,quantity:1,value:0,subFunction:0,payload:""},validate:{deviceId:(0,C.m)({min:0,max:255},"Must be in range 0-255"),funcCodeCustom:(0,C.m)({min:0,max:255},"Must be in range 0-255"),address:(0,C.m)({min:0,max:65535},"Must be in range 0-65535"),quantity:(0,C.m)({min:0,max:2e3},"Must be in range 0-2000"),value:(0,C.m)({min:0,max:65535},"Must be in range 0-65535"),payload:e=>{let t=(0,v.uv)(e||"");return t.length%2!=0?"Payload must be even number of bytes":t.length>504?"Payload length must be not longer than 252 bytes":/^[0-9A-F]*$/.test(t)?void 0:"Payload must be in HEX format"}},validateInputOnBlur:!0}),s=g.eq.map(e=>({value:e.code.toString(),label:"".concat(r.values.useHex?"0x".concat(e.code.toString(16).toUpperCase().padStart(2,"0")):e.code.toString(10).padStart(2,"0")," (").concat(e.name,")")}));s.push({value:"custom",label:"Custom"});let l=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.o,{label:"Payload (HEX, without CRC):",placeholder:"00 20 00 0C",...r.getInputProps("payload")})}),i=r.values.funcCode;"custom"===i?l=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Function code:",min:0,max:128,...r.getInputProps("funcCodeCustom")}),(0,a.jsx)(b.o,{label:"Payload (HEX, without CRC):",placeholder:"00 20 00 0C",...r.getInputProps("payload")})]}):"1"===i||"2"===i||"3"===i||"4"===i?l=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Starting address:",min:0,max:65535,...r.getInputProps("address")}),(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Quantity:",min:0,max:2e3,...r.getInputProps("quantity")})]}):"5"===i||"6"===i?l=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Address:",min:0,max:65535,...r.getInputProps("address")}),(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Value:",...r.getInputProps("value")})]}):"7"===i||"11"===i||"12"===i||"17"===i?l=(0,a.jsx)(a.Fragment,{}):"8"===i?l=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Sub-function:",...r.getInputProps("subFunction")}),(0,a.jsx)(b.o,{label:"Data (HEX):",placeholder:"12 34 AB CD",...r.getInputProps("payload")})]}):("15"===i||"16"==i)&&(l=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Starting address:",min:0,max:65535,...r.getInputProps("address")}),(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Quantity:",min:0,max:2e3,...r.getInputProps("quantity")}),(0,a.jsx)(b.o,{label:"Values (HEX):",placeholder:"12 34 AB CD",...r.getInputProps("payload")})]}));let u="";return"rtu"===t?u=(0,g.aL)(getRequestData(r.values))[2]:"ascii"===t&&(u=(0,g.gY)(getRequestData(r.values))[1]),(0,a.jsx)("form",{onSubmit:r.onSubmit(()=>{n("rtu"===t?(0,g.aL)(getRequestData(r.values))[0]:"ascii"===t?(0,g.gY)(getRequestData(r.values))[0]:(0,g.nM)(getRequestData(r.values))[0])}),children:(0,a.jsxs)(o.K,{spacing:"xs",children:[(0,a.jsx)(y.r,{label:"Use HEX",onLabel:"HEX",offLabel:"DEC",checked:r.values.useHex,...r.getInputProps("useHex")}),(0,a.jsx)(P.Z,{hex:r.values.useHex,label:"Device ID:",min:0,max:255,...r.getInputProps("deviceId")}),(0,a.jsx)(j.Ph,{withinPortal:!0,label:"Function:",data:s,...r.getInputProps("funcCode")}),l,"tcp"!==t&&(0,a.jsx)(b.o,{label:"rtu"===t?"CRC:":"LRC:",value:(0,v.zF)(u),disabled:!0}),(0,a.jsx)(c.z,{type:"submit",children:"Add request"})]})})}function getRequestData(e){return{deviceId:e.deviceId,funcCode:"custom"===e.funcCode?e.funcCodeCustom:parseInt(e.funcCode,10),customPayload:"custom"===e.funcCode,address:e.address,quantity:e.quantity,value:e.value,subFunction:e.subFunction,payload:(0,v.uv)(e.payload||"")}}var I=n(4101);function ModbusDebugTools(e){let{mode:t,dst:n,isMaster:b}=e,[y,j]=(0,m.useState)(!1),[k,C]=(0,m.useState)(""),{token:P}=(0,h.pk)(),[S,w]=(0,m.useState)(!1),[M,Z]=(0,m.useState)("");return(0,a.jsx)(r.x,{w:"100%",children:(0,a.jsxs)(s.r,{p:"xs",maw:914,children:[(0,a.jsx)(s.r.Col,{sm:b?8:12,children:(0,a.jsx)(I.Z,{mode:t,streamName:n})}),b&&(0,a.jsx)(s.r.Col,{sm:4,children:(0,a.jsxs)(o.K,{spacing:0,children:[(0,a.jsx)(l.Z,{sx:e=>({borderBottom:"1px solid ".concat(e.colors.gray[3])}),py:"xs",children:(0,a.jsx)(i.x,{size:"sm",transform:"uppercase",weight:700,color:"gray.9",children:"Send request"})}),(0,a.jsxs)(o.K,{pt:"xs",spacing:"xs",children:[(0,a.jsx)(u.U,{in:!y,children:(0,a.jsxs)(o.K,{spacing:"xs",children:[(0,a.jsx)(d.g,{fz:"xs",autosize:!0,minRows:8,maxRows:15,placeholder:"Write Modbus RTU in HEX.\nSeparate multiple requests by newline.\n\nE.g.\n02 01 00 20 00 0C 3D F6\n01 03 00 00 00 01 84 0A\n...",value:k,onChange:e=>C(e.target.value),styles:{root:{flexGrow:1},input:{fontFamily:"monospace"}}}),(0,a.jsx)(f.Z,{inProgress:S,onClick:async()=>{P&&(Z("Preparing."),w(!0),await (0,g.PW)(P,n,k,!0,Z),w(!1))},children:"Send"})]})}),(0,a.jsx)(u.U,{in:y,children:(0,a.jsx)(ModbusRequestGenerator,{mode:t,onSubmit:e=>{let t=k;t.trim().length>0&&!t.endsWith("\n")&&(t+="\n"),C(t+(e=(0,v.zF)(e))+"\n"),j(!1)}})}),(0,a.jsx)(c.z,{compact:!0,size:"xs",variant:"subtle",onClick:()=>j(!y),children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{size:12,style:{marginRight:5}}),"Write request manually"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{size:12,style:{marginRight:5}}),"Show request generator"]})}),M&&(0,a.jsx)(r.x,{sx:{overflow:"scroll"},w:"100%",mah:200,children:(0,a.jsx)(i.x,{c:"orange",fz:12,ff:"monospace",sx:{whiteSpace:"pre"},children:M})})]})]})})]})})}},477:function(e,t,n){n.d(t,{Z:function(){return RxTxDisplay}});var a=n(966),r=n(1949),s=n(4137),o=n(2242),l=n(8431),i=n(3610);function RxTxDisplay(e){let{bytes:t,lastBytesSinceSec:n,speed:u,tx:d,oneline:c=!0}=e,p=(0,r.rZ)(),x=void 0!==n&&n<=2?p.colors.green[6]:p.colors.gray[6];return(0,a.jsx)(i.Z,{icon:d?(0,a.jsx)(s.Z,{stroke:1,height:15,color:x}):(0,a.jsx)(o.Z,{stroke:1,height:15,color:x}),name:d?"TX":"RX",nameColor:x,mainVal:(0,l.td)(t),subVal:{level:void 0!==n&&n<=2?"good":"dimmed",value:"".concat((0,l.td)(u),"/s")},oneline:c})}},829:function(e,t,n){n.d(t,{Z:function(){return WithConfirmation}});var a=n(966),r=n(2638),s=n(462),o=n(9956),l=n(7344),i=n(3283),u=n(3900);function WithConfirmation(e){let{children:t,title:n,description:d,buttonText:c}=e,[p,x]=(0,u.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.u,{opened:p,onClose:()=>x(!1),withCloseButton:!1,children:(0,a.jsxs)(s.K,{children:[(0,a.jsx)(o.x,{fz:"md",weight:500,align:"center",children:n}),(0,a.jsx)(o.x,{fz:"sm",c:"gray.7",align:"center",children:d}),(0,a.jsxs)(l.Z,{position:"center",children:[(0,a.jsx)(i.z,{color:"orange",onClick:()=>{t.props.onClick(),x(!1)},children:c}),(0,a.jsx)(i.z,{color:"green",onClick:()=>x(!1),children:"Cancel"})]})]})}),(0,a.jsx)(t.type,{...t.props,onClick:()=>x(!0)})]})}}}]);