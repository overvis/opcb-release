(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{4616:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manufacture/test",function(){return n(5476)}])},9121:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(6521),r=n(2104),a=n(1876),s=n(4894),c=n(899),o=n(5263),l=n(5750),u=n(4572),d=n(8584),h=n(9114),g=n(3073),f=n(4130),m=n(4559),p=n(9296);let x=(0,r.k)(e=>({tabsList:{borderBottom:"1px solid ".concat(e.colors.gray[4])},tab:{color:e.colors.blue[6],textTransform:"uppercase",fontSize:e.fontSizes.xs,"&:hover":{backgroundColor:"transparent",border:"transparent",color:e.colors.dark},"&[data-active]":{borderBottom:"2px solid #000",pointerEvents:"none"}}}));function b(e){let{children:t,title:n,id:r}=e,b=(0,m.H)(),{classes:v}=x(),j=(0,f.useRouter)();if(!b.data)return(0,i.jsx)(p.Z,{pageTitle:"Manufacturing",contentIsLoading:!0});let w=b.data.internetConnected,y=b.data.wireguardConnected;return(0,i.jsxs)(p.Z,{pageTitle:"Manufacture :: ".concat(n),children:[y&&(0,i.jsx)(a.Z,{position:"center",children:(0,i.jsx)("a",{href:"/dyn-media/label.png",target:"_blank",children:(0,i.jsx)(s.E,{src:"/dyn-media/label.png",alt:"OPCB VPN information label.",maw:"260px"})})}),("restore"===r||"register"===r)&&(0,i.jsxs)(i.Fragment,{children:[y&&(0,i.jsx)(c.b,{my:"lg",icon:(0,i.jsx)(l.Z,{}),title:"Already authenticated.",color:"yellow",children:"This device is already authenticated on the remote server and has an access. By submitting this form you may lose the access or change the device's identity."}),!w&&(0,i.jsx)(c.b,{my:"lg",icon:(0,i.jsx)(l.Z,{}),title:"No internet access.",color:"yellow",children:"Active internet connection is required to restore the device's identity. Please check the device's settings."})]}),(0,i.jsxs)(o.m,{color:"dark",value:r,variant:"default",classNames:{tabsList:v.tabsList,tab:v.tab},onTabChange:e=>j.push("/manufacture/".concat(e)),children:[(0,i.jsxs)(o.m.List,{mb:"lg",children:[(0,i.jsx)(o.m.Tab,{value:"restore",icon:(0,i.jsx)(u.Z,{size:16}),children:"Restore identity"}),(0,i.jsx)(o.m.Tab,{value:"register",icon:(0,i.jsx)(d.Z,{size:16}),children:"Register"}),(0,i.jsx)(o.m.Tab,{value:"test",icon:(0,i.jsx)(h.Z,{size:16}),children:"Test"}),(0,i.jsx)(o.m.Tab,{value:"finalize",icon:(0,i.jsx)(g.Z,{size:16}),children:"Finalize"})]}),(0,i.jsx)(o.m.Panel,{value:r,children:t})]})]})}},4653:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(6521),r=n(7961),a=n(2952),s=n(5388),c=n(1876),o=n(8202),l=(0,n(7557).Z)("clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);function u(e){let{children:t,title:n}=e;return(0,i.jsx)(r.X,{bg:"gray.0",p:"lg",sx:e=>({border:"1px solid ".concat(e.colors.gray[3])}),children:(0,i.jsx)(a.M,{mih:"260px",children:(0,i.jsxs)(s.K,{align:"center",maw:"500px",h:"100%",spacing:0,children:[(0,i.jsxs)(c.Z,{spacing:"xs",children:[(0,i.jsx)(l,{}),(0,i.jsx)(o.x,{weight:600,fz:"md",children:n})]}),(0,i.jsx)(o.x,{fz:"sm",c:"gray.6",align:"center",children:t})]})})})}},4559:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var i=n(4579),r=n(4911);async function a(e){let[t,n]=e,i=await (0,r.UK)(n,["wg:ping","wg:pubkey","inet:ping","wg:ping","overvisRc:mac","manufacturer:modeEnabled","manufacturer:licenseUuid","manufacturer:licensePassword","manufacturer:batchDescription"]),a=await (0,r.wv)(n,["overvisVpn:wireguard:privateKey"]),s={internetConnected:!1,wireguardConnected:!1,pubkey:i["wg:pubkey"],mac:i["overvisRc:mac"],manufacturerModeEnabled:!!i["manufacturer:modeEnabled"],licenseUuid:i["manufacturer:licenseUuid"],licensePassword:i["manufacturer:licensePassword"],batchDescription:i["manufacturer:batchDescription"],privateKey:a["overvisVpn:wireguard:privateKey"]},c=i["wg:ping"];c&&"unreachable"!==c&&(s.wireguardConnected=!0);let o=i["inet:ping"];return o&&"unreachable"!==o&&(s.internetConnected=!0),s}function s(){return(0,i.tQ)("manufacturer-status",a)}},5476:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var i=n(6521),r=n(9121),a=n(4653);function s(){return(0,i.jsx)(r.Z,{id:"test",title:"Run tests",children:(0,i.jsxs)(a.Z,{title:"Testing is in development.",children:[(0,i.jsx)("p",{children:"This page will allow to run automated testing to confirm basic device functionality."}),(0,i.jsx)("p",{children:"Your device will receive this functionality with an automatic update."})]})})}}},function(e){e.O(0,[634,733,301,125,296,774,888,179],function(){return e(e.s=4616)}),_N_E=e.O()}]);