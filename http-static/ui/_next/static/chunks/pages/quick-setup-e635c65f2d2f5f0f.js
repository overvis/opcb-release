(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{6876:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quick-setup",function(){return n(6946)}])},4665:function(e,t,n){"use strict";n.d(t,{s:function(){return MainLoader}});var a=n(966),r=n(8070),i=n(2489),o=n(6446),s=n(3900);function MainLoader(e){let t=(0,o.useRouter)(),[n,c]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let handleStart=()=>{c(!1)},handleStop=()=>{c(!0)};return t.events.on("routeChangeStart",handleStart),t.events.on("routeChangeComplete",handleStop),t.events.on("routeChangeError",handleStop),()=>{t.events.off("routeChangeStart",handleStart),t.events.off("routeChangeComplete",handleStop),t.events.off("routeChangeError",handleStop)}},[t]),(0,s.useEffect)(()=>{e.dataLoaded&&n||e.dataErrored?!n||e.dataLoaded||e.dataErrored?(0,r.We)():(0,r.fD)(50):(0,r.QT)()},[e.dataLoaded,e.dataErrored,n]),(0,a.jsx)(i.V,{autoReset:!0})}},7219:function(e,t,n){"use strict";n.d(t,{M:function(){return saveProcedure},u:function(){return makeInputPropsGen}});var a=n(966),r=n(6680),i=n(7017),o=n(2922);async function saveProcedure(e){(0,r.yK)("settings-save"),(0,r.c0)({id:"settings-save",withCloseButton:!0,autoClose:!1,loading:!0,icon:null,color:"orange",title:"Saving settings...",message:"Please wait while the new settings are applied..."});try{await e()}catch(e){(0,r.wD)({id:"settings-save",loading:!1,withCloseButton:!0,color:"red",icon:(0,a.jsx)(i.Z,{}),title:"Error saving settings",message:"There was an error saving settings. Please check form data and try again."}),console.error(e);return}(0,r.wD)({id:"settings-save",loading:!1,withCloseButton:!0,autoClose:1e3,color:"green",icon:(0,a.jsx)(o.Z,{}),title:"Settings saved",message:"Settings were saved and applied successfully."})}function makeInputPropsGen(e,t,n){return function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";return function(e,t,n,a){let r=e.getInputProps(t,n);return{...r,classNames:{input:e.isDirty(t)&&a||void 0}}}(e,a,{...n,type:r},t)}}},9804:function(e,t,n){"use strict";n.d(t,{k6:function(){return localTimeString},o0:function(){return formatDateTime}});var a=n(9089),r=n.n(a),i=n(3572),o=n.n(i);function formatDateTime(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";return t?r()(e).format(a):r()(e).utc().format(a)}function localTimeString(e){return"".concat(e.toLocaleTimeString(),".").concat(e.getMilliseconds().toString().padStart(3,"0"))}r().extend(o())},9342:function(e,t,n){"use strict";n.d(t,{$b:function(){return readOpcbRegisters},EH:function(){return l},Gt:function(){return parseModbusLogRecord},J4:function(){return d},PW:function(){return sendModbusRequest},_:function(){return u},aL:function(){return genRtuRequest},eq:function(){return s},gY:function(){return genAsciiRequest},nM:function(){return genTcpRequest}});var a=n(52),r=n(9804),i=n(8431),o=n(8027).Buffer;let s=[{code:1,name:"Read Coils"},{code:2,name:"Read Discrete Inputs"},{code:3,name:"Read Holding Registers"},{code:4,name:"Read Input Registers"},{code:5,name:"Write Single Coil"},{code:6,name:"Write Single Register"},{code:7,name:"Read Exception Status"},{code:8,name:"Diagnostics"},{code:11,name:"Get Comm Event Counter"},{code:12,name:"Get Comm Event Log"},{code:15,name:"Write Multiple Coils"},{code:16,name:"Write Multiple Registers"},{code:17,name:"Report Server ID"},{code:20,name:"Read File Record"},{code:21,name:"Write File Record"},{code:22,name:"Mask Write Register"},{code:23,name:"Read/Write Multiple Registers"},{code:24,name:"Read FIFO Queue"},{code:43,name:"Read Device Identification"}],c=new Int32Array([0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448]),u=[50,75,110,134,150,200,300,600,1200,1800,2400,4800,9600,19200,38400,57600,115200,230400,460800,5e5,576e3,921600,1e6,1152e3,15e5,2e6,25e5,3e6,35e5,4e6],l=[{label:"RTU slave",value:"rtu-slave"},{label:"ASCII slave",value:"ascii-slave"},{label:"RTU master",value:"rtu-master"},{label:"ASCII master",value:"ascii-master"}],d=[{label:"1N - 1 stop bit, no parity",value:"1N"},{label:"1E - 1 stop bit, even parity",value:"1E"},{label:"1O - 1 stop bit, odd parity",value:"1O"},{label:"2N - 2 stop bits, no parity",value:"2N"}];function genRtuRequest(e){let{deviceId:t,funcCode:n,customPayload:a,address:r,quantity:s,value:u,subFunction:l,payload:d}=e,p="".concat(t.toString(16).padStart(2,"0"));if(a)p+="".concat(n.toString(16).padStart(2,"0"))+"".concat((0,i.uv)(d||""));else switch(p+="".concat(n.toString(16).padStart(2,"0")),n){case 1:case 2:case 3:case 4:p+="".concat((r||0).toString(16).padStart(4,"0"))+"".concat((s||0).toString(16).padStart(4,"0"));break;case 5:case 6:p+="".concat((r||0).toString(16).padStart(4,"0"))+"".concat((u||0).toString(16).padStart(4,"0"));break;case 7:case 11:case 12:case 17:break;case 8:p+="".concat((l||0).toString(16).padStart(2,"0"))+"".concat((0,i.uv)(d||""));break;case 15:p+="".concat((r||0).toString(16).padStart(4,"0"))+"".concat((s||0).toString(16).padStart(4,"0"))+"".concat(Math.ceil((d||"").length/4).toString(16).padStart(2,"0"))+"".concat((0,i.uv)(d||""));break;case 16:p+="".concat((r||0).toString(16).padStart(4,"0"))+"".concat((s||0).toString(16).padStart(4,"0"))+"".concat(Math.ceil((d||"").length/2).toString(16).padStart(2,"0"))+"".concat((0,i.uv)(d||""));break;default:p+="".concat((0,i.uv)(d||""))}let g=function(e){let t=65535;for(let n=0;n<e.length;n++)t=(c[(t^e[n])&255]^t>>8)&65535;return t<<8&65535|t>>8}(o.from(p,"hex")),m=g.toString(16).padStart(4,"0"),f=p;return[f+m,f,m]}function genTcpRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.toString(16).padStart(4,"0"),[a,r,i]=genRtuRequest(e),o=Math.ceil(r.length/2).toString(16).padStart(4,"0");return["".concat(n,"0000").concat(o).concat(r),i]}function genAsciiRequest(e){let[t,n]=genRtuRequest(e),a=n.toUpperCase().split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join(""),r=function(e){let t=0;for(let n=0;n<e.length;n++)t+=255&e[n];return(255^t)+1&255}(o.from(n,"hex")),i=r.toString(16).toUpperCase().split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("");return["3A".concat(a).concat(i,"0D0A"),i]}async function sendModbusRequest(e,t,n,r,s){let c=n.trim().toLowerCase().split("\n").map(e=>e.trim()),u=[],l=0,d=0,p=0,report=()=>{s&&s("Requests sent: ".concat(l,"\nResponses: ").concat(d,"\nErrors: ").concat(p))};for(let n of c){if(n.startsWith("#")||0===n.length)continue;let s=(0,i.uv)(n),c={dataB64:o.from(s,"hex").toString("base64"),asIs:r,dst:t};l++,report();let g=await (0,a.ri)(e,"/api/modbus/send-request/",{method:"POST",body:JSON.stringify(c)}),m=await g.json();m.dataB64?d++:p++,report(),u.push({request:s,response:m.dataB64?o.from(m.dataB64,"base64").toString("hex"):"Error: ".concat(m.modbusErrorCode)})}let g="";for(let e of u)g+="> ".concat(e.request,"\n< ").concat(e.response,"\n");return s&&s(g),u}async function readOpcbRegisters(e,t,n,a,r){let i=[],o=a,s=n;for(;o>0;){let n=Math.min(o,125),a=await readRegistersRequest(e,t,s,n,r);i.push(...a),o-=n,s+=n}return i}async function readRegistersRequest(e,t,n,a,r){let[i,o,s]=genRtuRequest({deviceId:r,funcCode:"holding"===t?3:4,address:n,quantity:a}),c=(await sendModbusRequest(e,"VIR",o,!1))[0].response,u=[];for(let e=0;e<a;e++)u.push(parseInt(c.slice(6+4*e,10+4*e),16));return u}function parseModbusLogRecord(e,t){let[n,a,i,...o]=e.split(" "),[s,c]=n.split("-"),u=1e3*Number(s)+Number(c),l=(0,r.k6)(new Date(a)),d="<"!==i&&">"!==i?"#":i,p=o.join(" ");if("#"===d)return{id:u,raw:e,date:l,type:"#",content:{kind:"raw",payload:p}};let g=Array.from(p.match(/.{1,2}/g));return p.length%2!=0||"rtu"===t&&(p.length<8||p.length>254)||"ascii"===t&&(p.length<18||"3a"!==g[0]||"0d"!==g[g.length-2]||"0a"!==g[g.length-1])||"tcp"===t&&p.length<16?{id:u,raw:e,date:l,type:d,content:[{kind:"error",payload:g.join(" ")}]}:{id:u,raw:e,date:l,type:d,content:function(e,t,n){if("rtu"===t){let t=e.splice(-2).join(" ");return[Object.assign(getRtuNoCrcContent(e,n),{crc:t})]}if("ascii"===t){let t=parseInt(e.slice(3,5).map(e=>String.fromCharCode(parseInt(e,16))).join(""),16),n={kind:"correct",prefix:e[0],deviceId:e.slice(1,3).join(" "),functionCode:e.slice(3,5).join(" "),errorFunctionCode:t>=128,payload:e.slice(6,-4).join(" "),crc:e.slice(-4).join(" "),description:e.slice(1,-4).map(e=>String.fromCharCode(parseInt(e,16))).join("")};return[n]}if("rtu-no-crc"===t)return[getRtuNoCrcContent(e,n)];{let t=[];for(let n=0;n<100&&!(e.length<1);n++){let n=256*parseInt(e[4],16)+parseInt(e[5],16);if(e.length<6+n){t.push({kind:"error",payload:e.join(" ")});break}let a=e.splice(0,6+n),r=parseInt(a[7],16);t.push({kind:"correct",prefix:a.slice(0,6).join(" "),deviceId:a[6],functionCode:a[7],errorFunctionCode:r>=128,payload:a.slice(8).join(" ")})}return t}}(g,t,d)}}function getRtuNoCrcContent(e,t){let n=parseInt(e[1],16),a={kind:"correct",deviceId:e[0],functionCode:e[1],errorFunctionCode:n>=128,payload:e.slice(2).join(" ")};if(">"===t&&(3===n||4===n)){let t=parseInt(e.slice(2,4).join(""),16),r=parseInt(e.slice(4,6).join(""),16),i=3===n?"holding":"input";r>1?a.description="Read ".concat(i," ").concat(t,"-").concat(t+r-1):a.description="Read ".concat(i," ").concat(t)}if("<"===t&&(3===n||4===n)){let t=e.slice(3).join(""),n=t.match(/.{1,4}/g);if(n){let e=Array.from(n).map(e=>parseInt(e,16));a.description=e.join(", ")}}return a}},8575:function(e,t,n){"use strict";n.d(t,{$b:function(){return useRs485Settings},Cu:function(){return deleteRs485},Mn:function(){return updateRs485},tz:function(){return i},v4:function(){return createRs485}});var a=n(52),r=n(3738);function useRs485Settings(){return(0,a.tQ)("/api/rs485-connections/",r.ph)}async function updateRs485(e){let t=(0,a.bH)();await (0,a.ri)(t,"/api/rs485-connection/".concat(e.deviceName,"/update/"),{method:"POST",body:JSON.stringify(e),timeoutMs:3e4})}async function createRs485(e){let t=(0,a.bH)();await (0,a.ri)(t,"/api/rs485-connections/create/",{method:"POST",body:JSON.stringify(e),timeoutMs:3e4})}async function deleteRs485(e){let t=(0,a.bH)();return await (0,a.ri)(t,"/api/rs485-connection/".concat(e,"/remove/"),{method:"POST",body:JSON.stringify({}),timeoutMs:3e4}),(0,r.ph)(["/api/rs485-connections/",t])}let i={deviceName:"ttyUSB0",mode:"rtu-master",uidRange:"1-255",responseTimeoutMs:300,baudRate:9600,stopAndParityBits:"2N",broadcastIsEnabled:!0,isEnabled:!0,gatewayGeneratedExceptions:{pathUnavalableCode:1,targetDeviceFailedToRespondCode:2},portOpenRetryPeriod:5}},1260:function(e,t,n){"use strict";n.d(t,{cH:function(){return makeTimezoneRecord},rV:function(){return useSettings},zQ:function(){return saveSettings}});var a=n(52),r=n(3738);async function settingsFetcher(e){var t;let[n,a]=e,i=await (0,r.wv)(a,["global:time:timezone","global:time:useNtp"]),o=await (0,r.vn)(a,"/api/state/?keys=".concat("time:timezones"));return{timezone:i["global:time:timezone"]||"Etc/UTC",useNtp:"true"===i["global:time:useNtp"],timezonesList:(null===(t=o["time:timezones"])||void 0===t?void 0:t.split("\n"))||[],setTime:new Date}}function useSettings(){let e=(0,a.tQ)("time-settings",settingsFetcher);return{...e}}function makeTimezoneRecord(e){let t={"global:time:timezone":e.timezone,"global:time:useNtp":e.useNtp?"true":"false"};return t}async function saveSettings(e){let t=(0,a.bH)(),n=makeTimezoneRecord(e);if(await (0,a.ri)(t,"/api/confs/set/",{method:"POST",body:JSON.stringify(n),timeoutMs:3e4}),!e.useNtp&&e.setTime){let n=e.setTime;await (0,a.ri)(t,"/api/set-time/",{method:"POST",body:JSON.stringify({time:n.toISOString()}),timeoutMs:3e4})}}},1827:function(e,t,n){"use strict";n.d(t,{A:function(){return useBasicSettings}});var a=n(52),r=n(3738);async function basicSettingsFetcher(e){let[t,n]=e,a="global:modelName,global:userProvidedDeviceName,global:quickSetupIsDone",i=await (0,r.vn)(n,"/api/confs/?keys=".concat(a));a="release:date,release:version,release:updateState,release:latestPatch:version,release:latestMinor:version,release:latestMajor:version,release:scheduledUpgradeToTag,release:lastSuccessfulUpgradeRef,manufacturer:modeEnabled";let o=await (0,r.vn)(n,"/api/state/?keys=".concat(a)),s="no-update";if(o["release:scheduledUpgradeToTag"]){let e=o["release:scheduledUpgradeToTag"],t=e.split("/");t.length>1&&(e=t[1]),s={kind:"scheduled",version:e}}else"disabled"===o["release:updateState"]?s="disabled":"no-repo"===o["release:updateState"]?s="no-repo":"dirty-repo"===o["release:updateState"]?s="dirty-repo":"broken-repo"===o["release:updateState"]?s="broken-repo":"available-update-patch"===o["release:updateState"]?s={kind:"available",version:o["release:latestPatch:version"]||"unknown version"}:"available-update-minor"===o["release:updateState"]?s={kind:"available",version:o["release:latestMinor:version"]||"unknown version"}:"available-update-major"===o["release:updateState"]?s={kind:"available",version:o["release:latestMajor:version"]||"unknown version"}:"imminent-upgrade"===o["release:updateState"]&&(s="upgrading");return{userProvidedName:i["global:userProvidedDeviceName"]||void 0,modelName:i["global:modelName"]||"OPCB",quickSetupIsDone:"true"===i["global:quickSetupIsDone"],manufacturerModeEnabled:"true"===o["manufacturer:modeEnabled"],firmwareVersion:o["release:version"]||"unknown",firmwareDate:o["release:date"]||"-",updateState:s,lastSuccessfulUpgradeRef:o["release:lastSuccessfulUpgradeRef"]||void 0}}function useBasicSettings(){return(0,a.tQ)("basic-settings",basicSettingsFetcher)}},8431:function(e,t,n){"use strict";function formatBytes(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}function sinceString(e){let t=0;e>59&&(t=Math.floor(e/60),e%=60);let n=0;t>59&&(n=Math.floor(t/60),t%=60);let a=0;n>23&&(a=Math.floor(n/24),n%=24);let r=[];return a>0&&r.push(a+"d"),(n>0||r.length>0)&&r.push(n+"h"),(t>0||r.length>0)&&r.push(t+"m"),r.push(e+"s"),r.join(" ")}function getPingLevel(e){return e<100?"good":e<200?"medium":"bad"}function formatHexStringInput(e){return e.replace(/[\s-:]/g,"").toLowerCase().trim()}function formatHexStringOutput(e){return e.trim().toLowerCase().match(/.{1,2}/g).join(" ")}n.d(t,{Ch:function(){return sinceString},k:function(){return getPingLevel},td:function(){return formatBytes},uv:function(){return formatHexStringInput},zF:function(){return formatHexStringOutput}})},6946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Page}});var a=n(966),r=n(7696),i=n(7344),o=n(3624),s=n(462),c=n(2671),u=n(2763),l=n(480),d=n(9025),p=n(7432),g=n(6886),m=n(3283),f=n(9724),h=(0,n(4397).Z)("corner-down-right","IconCornerDownRight",[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]]),S=n(717),v=n.n(S),b=n(6446),R=n(3900),w=n(4708),y=n(7219),C=n(7132),k=n(4665),j=n(4080),x=n(52),M=n(8512),T=n(3738),I=n(9342),P=n(4859),N=n(8575),E=n(1260),D=n(281),B=n(1827);function Page(){let e=P.rV(),t=D.rV(),n=E.rV(),d=(0,x.pk)(),p=(0,B.A)(),[g,m]=(0,R.useState)(!1),f=(0,b.useRouter)();return(0,R.useEffect)(()=>{m("true"===f.query.standalone)},[f.query.standalone]),e.data&&t.data&&n.data&&p.data?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.s,{dataLoaded:!0,dataErrored:!1}),(0,a.jsx)(v(),{children:(0,a.jsx)("title",{children:"OPCB :: Quick Setup"})}),(0,a.jsx)(r.W,{size:420,my:40,mih:"950px",children:(0,a.jsxs)(s.K,{align:"center",children:[(0,a.jsx)(c.E,{src:"/media/opcb-top.png",width:150,height:150,alt:"OPCB"}),(0,a.jsx)(u.D,{align:"center",children:"OPCB :: Quick Setup"}),(0,a.jsx)(QuickSetupForm,{lanSettings:e,wifiSettings:t,timeSettings:n,basicSettings:p,isStandalone:g}),!g&&(0,a.jsxs)(l.e,{href:"/",onClick:()=>{d.token&&d.setToken({...d.token,skipQuickSetup:!0})},children:[(0,a.jsx)(h,{size:14,style:{marginRight:"5px"}}),"Skip and proceed to full interface"]})]})})]}):(0,a.jsx)(r.W,{size:"lg",mih:400,py:"lg",children:(0,a.jsx)(i.Z,{position:"center",p:"xl",children:(0,a.jsx)(o.a,{})})})}let q=(0,d.k)(()=>({form:{width:"100%"}}));function QuickSetupForm(e){let{lanSettings:t,wifiSettings:n,timeSettings:r,basicSettings:i,isStandalone:o}=e;if(!t.data||!n.data||!r.data)throw Error("Data is required for QuickSetupForm.");let{classes:c}=q(),l=o?r.data.timezone:(0,M.X6)(),{actionHandler:d}=(0,w.vu)(),[h,S]=(0,R.useState)("elan"),v=(0,f.c)({initialValues:{elan:{...t.data},wlan:{...n.data},time:{...r.data,timezone:l},rs485:{...N.tz}},validate:{elan:{...P.Rx},wlan:{...D.Rx}}}),b=(0,y.u)(v),submitHandler=async()=>{await (0,T.NC)({...P.Up(v.values.elan),...D.Up(v.values.wlan),...E.cH(v.values.time),"global:quickSetupIsDone":"true"});try{await N.v4(v.values.rs485)}catch(e){await N.Mn(v.values.rs485)}await t.mutate(v.values.elan),await n.mutate(v.values.wlan),await r.mutate(v.values.time),await i.mutate()};return(0,a.jsx)("form",{className:c.form,onSubmit:v.onSubmit(async()=>{d({actionProcess:submitHandler,title:"Applying settings",failedTitle:"Setup failed.",failedId:"quick-setup-failed",startActionText:"Sending the settings to the device...",afterActionText:"Saving the settings...",successId:"quick-setup-success",successTitle:"Settings applied.",successMessage:"Internet connection, timezone and RS-485 connection saved in the device.",messageAfterDeviceWaitTimeout:(0,a.jsx)(w.zU,{}),redirectToDashboardAfterAction:!o,delayBeforeDeviceWait:5e3})}),children:(0,a.jsxs)(s.K,{spacing:"lg",children:[(0,a.jsxs)(s.K,{children:[(0,a.jsx)(u.D,{order:3,align:"center",children:"Internet Connection"}),(0,a.jsx)(p.s,{fullWidth:!0,data:[{value:"elan",label:"Ethernet"},{value:"wlan",label:"Wi-Fi"}],value:h,onChange:S}),"elan"===h?(0,a.jsx)(C.Z,{form:v}):(0,a.jsx)(j.Z,{form:v})]}),(0,a.jsxs)(s.K,{children:[(0,a.jsx)(u.D,{order:3,align:"center",children:"Timezone"}),(0,a.jsx)(g.Ph,{label:"Timezone:",data:v.values.time.timezonesList,...b("time.timezone"),searchable:!0})]}),(0,a.jsxs)(s.K,{children:[(0,a.jsx)(u.D,{order:3,align:"center",children:"RS-485"}),(0,a.jsx)(g.Ph,{label:"Mode:",data:I.EH,...b("rs485.mode")}),(0,a.jsx)(g.Ph,{label:"Baud rate:",data:I._.map(e=>({value:e.toString(),label:e.toString()})),...b("rs485.baudRate"),value:v.values.rs485.baudRate.toString(),onChange:e=>{v.setFieldValue("rs485.baudRate",parseInt(e||"9600",10))}}),(0,a.jsx)(g.Ph,{label:"Stop and parity bits:",data:I.J4,...b("rs485.stopAndParityBits")})]}),o?(0,a.jsx)(m.z,{type:"submit",variant:"outline",radius:"xl",children:"Save OPCB settings"}):(0,a.jsx)(m.z,{type:"submit",children:"Save"})]})})}}},function(e){e.O(0,[217,666,27,886,156,774,888,179],function(){return e(e.s=6876)}),_N_E=e.O()}]);