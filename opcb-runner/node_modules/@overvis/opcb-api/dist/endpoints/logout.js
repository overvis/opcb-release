"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = exports.SCHEMA = void 0;
const server_tools_1 = require("@overvis/server-tools");
const typebox_1 = require("@sinclair/typebox");
const auth_1 = require("../auth");
const OK_RESPONSE_SCHEMA = typebox_1.Type.Object({});
exports.SCHEMA = {
    response: (0, server_tools_1.apiResponse)(OK_RESPONSE_SCHEMA),
};
async function openHandler(req) {
    delete this.sessions[req.sessionKey];
    await this.bus.deleteSession(`api-${req.sessionKey}`);
    return {};
}
exports.handler = (0, auth_1.auth)("any", openHandler);
//# sourceMappingURL=logout.js.map