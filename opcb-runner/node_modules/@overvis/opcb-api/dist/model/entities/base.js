"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.QueryModelBase = void 0;
class QueryModelBase {
    constructor(db, memDb) {
        this.db = db;
        this.memDb = memDb;
        this.queryMap = {};
        this.memQueryMap = {};
    }
    getQuery(sql) {
        if (this.queryMap[sql]) {
            return this.queryMap[sql];
        }
        const query = this.db.prepare(sql);
        this.queryMap[sql] = query;
        return query;
    }
    getMemQuery(sql) {
        if (this.memQueryMap[sql]) {
            return this.memQueryMap[sql];
        }
        const query = this.memDb.prepare(sql);
        this.memQueryMap[sql] = query;
        return query;
    }
}
exports.QueryModelBase = QueryModelBase;
//# sourceMappingURL=base.js.map