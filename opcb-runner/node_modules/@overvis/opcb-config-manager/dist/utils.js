"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.versionMoreOrEq = exports.versionLess = exports.loadConfigFile = void 0;
const tslib_1 = require("tslib");
const fs = tslib_1.__importStar(require("fs"));
async function loadConfigFile(path) {
    let content;
    try {
        content = await fs.promises.readFile(path, "utf8");
    }
    catch (e) {
        if (e.code !== "ENOENT") {
            throw e;
        }
        await fs.promises.writeFile(path, "{}");
        return {};
    }
    return JSON.parse(content);
}
exports.loadConfigFile = loadConfigFile;
function versionLess(a, b) {
    const nums1 = a.split(".").map((x) => parseInt(x, 10));
    const nums2 = b.split(".").map((x) => parseInt(x, 10));
    for (let i = 0; i < nums1.length; i++) {
        if (nums1[i] < nums2[i]) {
            return true;
        }
        else if (nums1[i] > nums2[i]) {
            return false;
        }
    }
    return false;
}
exports.versionLess = versionLess;
function versionMoreOrEq(a, b) {
    return !versionLess(a, b);
}
exports.versionMoreOrEq = versionMoreOrEq;
//# sourceMappingURL=utils.js.map