"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const pino_1 = tslib_1.__importDefault(require("pino"));
const _1 = require(".");
let logger;
async function start() {
    logger = (0, pino_1.default)({
        level: "debug",
        transport: {
            target: "pino-pretty",
        },
    });
    logger.info("Start virtual device in watch mode.");
    await (0, _1.run)(logger, {
        redisSocket: "redis://127.0.0.1:6379/0",
        sqliteDbPath: "./src/tests/dev.sqlite",
        sqliteLibDir: "./sqlite",
    });
}
start().catch((e) => {
    if (logger) {
        logger.fatal(e);
    }
    else {
        // eslint-disable-next-line no-console
        console.error(e);
    }
    setTimeout(() => process.exit(1), 1000);
});
//# sourceMappingURL=start.js.map