"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadConfig = void 0;
const tslib_1 = require("tslib");
const fs_1 = tslib_1.__importDefault(require("fs"));
const schema_1 = require("./schema");
function loadConfig(path, schemaPath) {
    const validator = (0, schema_1.compileSchema)(schemaPath);
    const config = JSON.parse(fs_1.default.readFileSync(path, "utf-8"));
    validator(config);
    if (validator.errors) {
        throw new Error(`Config validation failed: ${JSON.stringify(validator.errors)}`);
    }
    return config;
}
exports.loadConfig = loadConfig;
//# sourceMappingURL=config.js.map