"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadConfig = void 0;
const tslib_1 = require("tslib");
const value_1 = require("@sinclair/typebox/value");
const fs_1 = tslib_1.__importDefault(require("fs"));
function loadConfig(path, schema) {
    const config = JSON.parse(fs_1.default.readFileSync(path, "utf-8"));
    if (value_1.Value.Check(schema, config)) {
        return config;
    }
    throw new Error(`Config validation failed: ${JSON.stringify(Array.from(value_1.Value.Errors(schema, config)))}`);
}
exports.loadConfig = loadConfig;
//# sourceMappingURL=config.js.map