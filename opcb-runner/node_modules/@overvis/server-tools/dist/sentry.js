"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSentryContext = exports.setSentryContext = exports.reportErrorToSentry = exports.initSentry = void 0;
const tslib_1 = require("tslib");
const Sentry = tslib_1.__importStar(require("@sentry/node"));
function initSentry(dsn) {
    if (!dsn)
        return;
    Sentry.init({
        dsn,
        tracesSampleRate: 1.0,
    });
}
exports.initSentry = initSentry;
let sentryContext;
function reportErrorToSentry(error) {
    if (sentryContext) {
        Sentry.setTags(sentryContext);
    }
    Sentry.captureException(error);
}
exports.reportErrorToSentry = reportErrorToSentry;
function setSentryContext(context) {
    sentryContext = { ...sentryContext, ...context };
}
exports.setSentryContext = setSentryContext;
function getSentryContext() {
    return sentryContext;
}
exports.getSentryContext = getSentryContext;
//# sourceMappingURL=sentry.js.map